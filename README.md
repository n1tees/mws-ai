# Backend Service ‚Äî Go + PostgreSQL

Backend —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —á–∞—Å—Ç—å—é —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ SARIF-–æ—Ç—á—ë—Ç–æ–≤.
–û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:

–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–∑–∞–≥—Ä—É–∑–∫—É –∏ –ø–∞—Ä—Å–∏–Ω–≥ SARIF

—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

orchestration –ø–æ–ª–Ω–æ–≥–æ pipeline (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞ ‚Üí ML ‚Üí LLM)

REST API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤

–°–µ—Ä–≤–∏—Å –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å—Ç–µ–∫e:

Go 1.22+

Fiber (HTTP —Å–µ—Ä–≤–µ—Ä)

PostgreSQL (—á–µ—Ä–µ–∑ GORM)

Zerolog (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

JWT (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

Docker-compose (–¥–ª—è –¥–µ–ø–ª–æ—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã)

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º:

cmd/ ‚Äî entrypoint
internal/
    auth/ ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, jwt
    config/ ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    db/ ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
    models/ ‚Äî –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
    repository/ ‚Äî —Å–ª–æ–π —Ä–∞–±–æ—Ç—ã —Å –ë–î
    sarif/ ‚Äî –ø–∞—Ä—Å–µ—Ä SARIF –æ—Ç—á—ë—Ç–æ–≤
    services/ ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    handlers/ ‚Äî HTTP endpoint-—ã
pkg/logger ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

# –ú–æ—è –∑–æ–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

–Ø –æ—Ç–≤–µ—á–∞—é –∑–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤—Å–µ–≥–æ backend-—è–¥—Ä–∞, –≤–∫–ª—é—á–∞—è:

–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞

–º–æ–¥–µ–ª–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏

–¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

REST API

–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ JWT

–ø–∞—Ä—Å–µ—Ä SARIF

orchestration pipeline

—Å–≤—è–∑–∫—É backend ‚Üî —ç–≤—Ä–∏—Å—Ç–∏–∫/ML/LLM —Å–µ—Ä–≤–∏—Å–æ–≤

–ø–æ–¥–≥–æ—Ç–æ–≤–∫—É Docker-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

# –§—Ä–æ–Ω—Ç —Ä–∞–±–æ—Ç (–¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞)
1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ backend

 —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (cmd/, internal/, pkg/)

 –ª–æ–≥–≥–µ—Ä zerolog

 –∫–æ–Ω—Ñ–∏–≥–∏ + –≤–∞–ª–∏–¥–∞—Ü–∏—è ENV

 init PostgreSQL + –º–∏–≥—Ä–∞—Ü–∏–∏

 Fiber —Å–µ—Ä–≤–µ—Ä + middleware

 graceful shutdown

2. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

 User

 Analysis

 Finding

3. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (—á–∏—Å—Ç—ã–π —Å–ª–æ–π —Ä–∞–±–æ—Ç—ã —Å –ë–î)

 UserRepository

 AnalysisRepository

 FindingRepository (bulk insert)

4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

 Register / Login endpoints

 bcrypt hashing

 JWT access + refresh

 JWT middleware

 –ø–µ—Ä–µ–Ω–æ—Å DTO –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç

5. SARIF

 —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ SARIF (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥ –Ω–∞—à input)

 –ø–∞—Ä—Å–µ—Ä JSON ‚Üí –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–¥–µ–ª–∏

 –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ ruleId, snippet, severity, confidence, file, line

6. Analysis workflow

 AnalysisService.Upload() (—Å–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ ‚Üí –ø–∞—Ä—Å–∏–Ω–≥ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ findings ‚Üí –∑–∞–ø—É—Å–∫ pipeline)

 UploadHandler (/analysis/upload)

 GET /analysis/:id

 GET /analysis

7. Pipeline orchestration

 Pipeline skeleton

 Heuristics client (HTTP ‚Üí –ø–æ—Ç–æ–º gRPC)

 ML client (CSV HTTP ‚Üí –ø–æ—Ç–æ–º gRPC)

 LLM client (JSON HTTP ‚Üí –ø–æ—Ç–æ–º gRPC)

 Aggregation –º–æ–¥—É–ª—è

 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ findings –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ pipeline

8. –î–æ–∫–µ—Ä–∏–∑–∞—Ü–∏—è

 Dockerfile backend

 docker-compose –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

 –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ML, LLM, heuristics –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

 –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

9. –¢–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

 Swagger –¥–ª—è API

 –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã (auth, sarif, repository)

 README –ø–æ –∑–∞–ø—É—Å–∫—É backend-–∞

# –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–∫—Ä–∞—Ç–∫–æ)
‚úî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ backend
‚úî Logger + config
‚úî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ PostgreSQL
‚úî –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚úî Migrate + init DB
‚úî –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (user, analysis, finding)
‚úî SARIF parser (—Å—Ç—Ä–æ–≥–æ –ø–æ–¥ —Ç–µ–∫—É—â–∏–π —Ñ–æ—Ä–º–∞—Ç ML)
‚úî –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, JWT)
‚úî DTO –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç
# –ß—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å
üîú –ë–ª–∏–∂–∞–π—à–∏–µ –∑–∞–¥–∞—á–∏

—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AnalysisService.Upload()

—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UploadHandler

–¥–æ–±–∞–≤–∏—Ç—å Pipeline skeleton

–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–∏—Å–æ–º —ç–≤—Ä–∏—Å—Ç–∏–∫

‚è≥ –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

ML client (CSV ‚Üí HTTP)

LLM client (JSON ‚Üí HTTP)

—Ñ–∏–Ω–∞–ª—å–Ω—ã–π aggregation –º–æ–¥—É–ª—è

endpoints –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞–Ω–∞–ª–∏–∑–∞

üß≠ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ

–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ gRPC –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

–ø–æ–ª–Ω–∞—è docker-compose –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—á–µ—Ä–µ–¥–µ–π (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)